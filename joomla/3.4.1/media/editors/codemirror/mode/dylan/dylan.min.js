!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("dylan",function(){function e(e,n,t){return n.tokenize=t,t(e,n)}function n(e,n,t){return b=e,p=t,n}function t(t,o){var a=t.peek();if("'"==a||'"'==a)return t.next(),e(t,o,r(a,"string","string"));if("/"==a)return t.next(),t.eat("*")?e(t,o,i):t.eat("/")?(t.skipToEnd(),n("comment","comment")):(t.skipTo(" "),n("operator","operator"));if(/\d/.test(a))return t.match(/^\d*(?:\.\d*)?(?:e[+\-]?\d+)?/),n("number","number");if("#"==a)return t.next(),a=t.peek(),'"'==a?(t.next(),e(t,o,r('"',"symbol","string-2"))):"b"==a?(t.next(),t.eatWhile(/[01]/),n("number","number")):"x"==a?(t.next(),t.eatWhile(/[\da-f]/i),n("number","number")):"o"==a?(t.next(),t.eatWhile(/[0-7]/),n("number","number")):(t.eatWhile(/[-a-zA-Z]/),n("hash","keyword"));if(t.match("end"))return n("end","keyword");for(var m in c)if(c.hasOwnProperty(m)){var u=c[m];if(u instanceof Array&&u.some(function(e){return t.match(e)})||t.match(u))return n(m,f[m],t.current())}return t.match("define")?n("definition","def"):(t.eatWhile(/[\w\-]/),s[t.current()]?n(s[t.current()],d[t.current()],t.current()):t.current().match(l)?n("variable","variable"):(t.next(),n("other","variable-2")))}function i(e,i){for(var r,o=!1;r=e.next();){if("/"==r&&o){i.tokenize=t;break}o="*"==r}return n("comment","comment")}function r(e,i,r){return function(o,a){for(var l,c=!1;null!=(l=o.next());)if(l==e){c=!0;break}return c&&(a.tokenize=t),n(i,r)}}var o={unnamedDefinition:["interface"],namedDefinition:["module","library","macro","C-struct","C-union","C-function","C-callable-wrapper"],typeParameterizedDefinition:["class","C-subtype","C-mapped-subtype"],otherParameterizedDefinition:["method","function","C-variable","C-address"],constantSimpleDefinition:["constant"],variableSimpleDefinition:["variable"],otherSimpleDefinition:["generic","domain","C-pointer-type","table"],statement:["if","block","begin","method","case","for","select","when","unless","until","while","iterate","profiling","dynamic-bind"],separator:["finally","exception","cleanup","else","elseif","afterwards"],other:["above","below","by","from","handler","in","instance","let","local","otherwise","slot","subclass","then","to","keyed-by","virtual"],signalingCalls:["signal","error","cerror","break","check-type","abort"]};o.otherDefinition=o.unnamedDefinition.concat(o.namedDefinition).concat(o.otherParameterizedDefinition),o.definition=o.typeParameterizedDefinition.concat(o.otherDefinition),o.parameterizedDefinition=o.typeParameterizedDefinition.concat(o.otherParameterizedDefinition),o.simpleDefinition=o.constantSimpleDefinition.concat(o.variableSimpleDefinition).concat(o.otherSimpleDefinition),o.keyword=o.statement.concat(o.separator).concat(o.other);var a="[-_a-zA-Z?!*@<>$%]+",l=new RegExp("^"+a),c={symbolKeyword:a+":",symbolClass:"<"+a+">",symbolGlobal:"\\*"+a+"\\*",symbolConstant:"\\$"+a},f={symbolKeyword:"atom",symbolClass:"tag",symbolGlobal:"variable-2",symbolConstant:"variable-3"};for(var m in c)c.hasOwnProperty(m)&&(c[m]=new RegExp("^"+c[m]));c.keyword=[/^with(?:out)?-[-_a-zA-Z?!*@<>$%]+/];var u={};u.keyword="keyword",u.definition="def",u.simpleDefinition="def",u.signalingCalls="builtin";var s={},d={};["keyword","definition","simpleDefinition","signalingCalls"].forEach(function(e){o[e].forEach(function(n){s[n]=e,d[n]=u[e]})});var b,p;return{startState:function(){return{tokenize:t,currentIndent:0}},token:function(e,n){if(e.eatSpace())return null;var t=n.tokenize(e,n);return t},blockCommentStart:"/*",blockCommentEnd:"*/"}}),e.defineMIME("text/x-dylan","dylan")});